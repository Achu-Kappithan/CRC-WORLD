<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login Page</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>
  <body>
    <div
      class="container-fluid vh-100 d-flex justify-content-center align-items-center p-0"
    >
      <div class="row g-0 w-100 h-100">
        <!-- Left Side Image Section -->
        <div class="col-lg-6 col-md-12 d-flex position-relative p-0 h-100">
          <img
            src="/assets/images/crc/loginimage.jpg"
            alt="Cricket Background"
            class="img-fluid w-100 h-100 object-cover"
          />
          <div
            class="position-absolute overlay d-flex flex-column align-items-center justify-content-center w-100 h-100 text-center text-white"
          >
            <h1>Welcome to Cricket World</h1>
            <p style="color: rgb(142, 147, 143);">Your journey begins here</p>
          </div>
        </div>

        <!-- Right Side Form Section -->
        <div
          class="col-lg-6 col-md-12 d-flex justify-content-center align-items-center bg-light h-100"
        >
          <div class="card shadow-lg p-4" style="max-width: 400px; width: 100%">
            <form
              class="login-form"
              method="post"
              onsubmit=" return validateForm() "
              action="/user_veryfing"
            >
              <h2 class="text-center mb-4">Account Login</h2>
              <p class="text-center">
                If you are already a member, login with your email address and
                password.
              </p>

              <div class="mb-3">
                <% if ((errorMessage.length > 0)) { %>
                <div class="alert alert-danger">
                  <P><%= errorMessage%></P>
                </div>
                <% } %> <% if ((successMessage.length > 0)) { %>
                <div class="alert alert-success">
                  <p><%= successMessage %></p>
                </div>
                <% } %>

                <label for="email" class="form-label">Email address</label>
                <input
                  type="text"
                  class="form-control"
                  id="email"
                  name="user_email"
                  value=""
                  placeholder="Enter your email"
                />
                <span id="emailError" class="text-danger"></span>
              </div>

              <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  name="user_password"
                  placeholder="Enter your password"
                />
                <span id="passwordError" class="text-danger"></span>
              </div>

              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <div class="form-check"><a href="/" class="text-decoration-none"
                  ><p style="color: green; font-weight: 400">
                    Demo Experience ?
                  </p></a></div>
                <a href="/forgotpassword" class="text-decoration-none"
                  ><p style="color: green; font-weight: 400">
                    Forgot Password?
                  </p></a
                >
              </div>

              <button type="submit" class="btn btn-primary w-100">
                Login Account
              </button>

              <div class="text-center mt-3">
                <p>
                  Don't have an account?
                  <a
                    style="color: green; font-weight: 800"
                    href="/register"
                    class="text-decoration-none"
                    >Sign up here</a
                  >
                </p>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      function validateForm() {
        let valid = true;

        document.getElementById("emailError").textContent = "";
        document.getElementById("passwordError").textContent = "";

        const email = document.getElementById("email").value;
        const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
        if (!emailPattern.test(email)) {
          document.getElementById("emailError").textContent =
            "Please enter a valid email address.";
          valid = false;
        }

        const password = document.getElementById("password").value;
        if (password.length < 6) {
          document.getElementById("passwordError").textContent =
            "Password must be at least 6 characters long.";
          valid = false;
        }

        return valid;
      }
    </script>

    <!-- aditional scriipt for sending message to user -->

    <script>
      const message = "<%= message %>";
      const type = "<%= type %>";

      if (message && message.length > 0) {
          Swal.fire({
              icon: type, // 'success', 'error', 'warning', 'info'
              title: message,
              toast: true,
              position: "top-end",
              showConfirmButton: false,
              timerProgressBar: true,
              timer: 2000,
              background: "black",
              color:"white",
              customClass:{popup:"swal12-custom-font"},
              
            });
            }
    </script>
  </body>
</html>
