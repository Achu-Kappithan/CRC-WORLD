<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Evara Dashboard</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="" />
    <meta property="og:type" content="" />
    <meta property="og:url" content="" />
    <meta property="og:image" content="" />
    <!-- Favicon -->
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="assets/imgs/theme/favicon.svg"
    />
    <!-- Template CSS -->
    <link href="assets/css/main.css" rel="stylesheet" type="text/css" />
  </head>

  <body>
    <main>
      <header class="main-header style-2 navbar">
        <div class="col-brand">
          <a href="index.html" class="brand-wrap">
            <img
              src="assets/imgs/theme/logo.svg"
              class="logo"
              alt="Evara Dashboard"
            />
          </a>
        </div>
        <div class="col-nav"></div>
      </header>
      <section class="content-main mt-80 mb-80">
        <div class="card mx-auto card-login">
          <div class="card-body">
            <h4 class="card-title mb-4">Sign in</h4>
            <% if (errorMessage.length > 0) { %>
            <div class="alert alert-danger"><%= errorMessage %></div>
            <% } %>
            <form
              action="/verify"
              method="post"
              id="loginForm"
              onsubmit="return validateForm()"
            >
              <div class="mb-3">
                <input
                  class="form-control"
                  name="admin_email"
                  id="admin_email"
                  placeholder="Username or email"
                  type="text"
                />
                <div class="invalid-feedback">
                  Please enter your username or email.
                </div>
              </div>
              <div class="mb-3">
                <input
                  class="form-control"
                  name="admin_password"
                  id="admin_password"
                  placeholder="Password"
                  type="password"
                />
                <div class="invalid-feedback">
                  Password must be at least 8 characters long.
                </div>
              </div>
              <div class="mb-3">
                <a href="#" class="float-end font-sm text-muted"
                  >Forgot password?</a
                >
                <label class="form-check">
                  <input type="checkbox" class="form-check-input" checked="" />
                  <span class="form-check-label">Remember</span>
                </label>
              </div>
              <div class="mb-4">
                <button type="submit" class="btn btn-primary w-100">
                  Login
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>
      <footer class="main-footer text-center"></footer>
    </main>
    <script src="assets/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="assets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="assets/js/vendors/jquery.fullscreen.min.js"></script>
    <!-- Main Script -->
    <script src="assets/js/main.js" type="text/javascript"></script>
  </body>

  <!-- form validation -->

  <script>
    function validateForm() {
      var email = document.getElementById("admin_email").value;
      var password = document.getElementById("admin_password").value;
      var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      if (email === "" || !email.match(emailPattern)) {
        document.getElementById("admin_email").classList.add("is-invalid");
        return false;
      } else {
        document.getElementById("admin_email").classList.remove("is-invalid");
      }

      if (password.length < 3) {
        document.getElementById("admin_password").classList.add("is-invalid");
        return false;
      } else {
        document
          .getElementById("admin_password")
          .classList.remove("is-invalid");
      }

      return true;
    }
  </script>
</html>
