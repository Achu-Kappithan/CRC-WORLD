
   

<!DOCTYPE html>
<html lang="en">
  <%- include("../layouts/admin/admin_header.ejs") %>

  <body>
    <%- include("../layouts/admin/slidbar.ejs") %>

    <main class="main-wrap">
      <%- include("../layouts/admin/navbar.ejs") %>
      <%- include("../layouts/admin/admin_footer.ejs") %>

      <section class="content-main">
        <div class="content-header">
            <div>
                <h2 class="content-title card-title">Edit Categories </h2>
                <br>
                <% if ((errorMessage.length > 0)) { %>
                    <div class="alert alert-danger">
                        <P><%= errorMessage%></P>
                    </div>
            <% } %>   
            </div>
            <div>
                <input type="text" placeholder="Search Categories" class="form-control bg-white">
            </div>
        </div>
        <div class="card">
            <div class="card-body" style="display: flex; justify-content: center; align-items: center; height: 100%;">
                <div class="col-md-6"> <!-- Increase width by changing col-md-3 to col-md-6 -->
                    <form action="/edit_cat" method="post"  onsubmit="return validate()">
                        <div class="mb-4">

                            <input type="hidden" name="id" value="<%= data._id %>"> <!---- this for storing the id  it will hidden -->

                            <label for="product_name" class="form-label">Name</label>
                            <input name="name" type="text" value="<%= data.name %>" class="form-control" id="catname" />
                            <span id="errorname" class="text-danger"></span> <!-- Error message span -->

                        </div>
                        <div class="mb-4">
                            <label class="form-label">Description</label>
                            <textarea  id="catdiscription" name="discription" class="form-control"><%= data.discription %></textarea>
                            <span id="errordis" class="text-danger"></span> <!-- Error message span -->

                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary">Create category</button>
                        </div>
                    </form>
                </div>
            </div>
        </div> <!-- card .// -->
    </section> <!-- content-main end// -->

    <script>

        function validate() {
        let value = true;
    
        // Validate name
        let name = document.getElementById("catname").value.trim();
        console.log(name);
    
        if (name.length < 3) {
            document.getElementById("errorname").textContent = "NAME MUST BE ATLEAST 3 CHARACTERS";
            value = false;
        } else {
            document.getElementById("errorname").textContent = "";  // Clear error if valid
        }
    
        // Validate description
        let dis = document.getElementById("catdiscription").value.trim();
        console.log(dis);
    
        if (dis.length < 10) {
            document.getElementById("errordis").textContent = "PLZ ENTER VALID INPUT";
            value = false;
        } else {
            document.getElementById("errordis").textContent = "";  // Clear error if valid
        }
    
        return value;
    
        }
    </script>
    

    
    </main>
    <!-- content-main end// -->
    <script src="assets/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="assets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="assets/js/vendors/select2.min.js"></script>
    <script src="assets/js/vendors/perfect-scrollbar.js"></script>
    <script src="assets/js/vendors/jquery.fullscreen.min.js"></script>
    <script src="assets/js/vendors/chart.js"></script>

    <script src="assets/js/main.js" type="text/javascript"></script>
    <script src="assets/js/custom-chart.js" type="text/javascript"></script>
  </body>
</html>











